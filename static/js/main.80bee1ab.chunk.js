(this.webpackJsonpsniff=this.webpackJsonpsniff||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(17),c=n.n(a),s=n(3),i=n(6),o=n(20),u=n(7),d=n(8),p=n(10),l=n(9),j=n(2),h=(n(25),{getUsers:function(){var e=this;return fetch("https://sniff-api.herokuapp.com/api/v1/users").then((function(t){return e.checkResponse(t),t.json()})).catch((function(e){return console.error(e),e.message}))},getSingleUser:function(e){var t=this;return fetch("https://sniff-api.herokuapp.com/api/v1/users/".concat(e)).then((function(e){return t.checkResponse(e),e.json()}))},getDetailedAppointments:function(e){var t=this;return fetch("https://sniff-api.herokuapp.com/api/v1/playdates".concat(e)).then((function(e){return t.checkResponse(e),e.json()}))},postAppointment:function(e){var t=this;return fetch("https://sniff-api.herokuapp.com/api/v1/playdates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return t.checkResponse(e),e.json()}))},checkResponse:function(e){if(!e.ok)throw 422===e.status||403===e.status||404===e.status||e.status,new Error}}),f=(n(26),n(0)),b=function(){return Object(f.jsxs)("nav",{children:[Object(f.jsx)(s.c,{exact:!0,to:"/",activeClassName:"active",children:"Home"}),Object(f.jsx)(s.c,{exact:!0,to:"/findfriends",activeClassName:"active",children:"Find Friends"})]})},O=(n(36),function(e){var t=e.id,n=e.owner_name,r=e.dog_name,a=e.profile_pic,c=e.dog_breed;return Object(f.jsx)(s.b,{to:"/profile/".concat(t),children:Object(f.jsxs)("article",{className:"profile-card",children:[Object(f.jsx)("img",{src:a}),Object(f.jsxs)("h3",{children:[r," & ",n]}),Object(f.jsx)("p",{children:c})]})})}),m=(n(37),function(e){var t=e.users.map((function(e){return Object(f.jsx)(O,Object(i.a)({},e),e.id)}));return Object(f.jsx)("section",{className:"gallery",children:t})}),x=n(12),v=["Berkeley Dog Park","Fuller Dog Park","Midtown Dog Park","Cherry Creek Dog Park","Greenway Dog Park"],g=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={date:"",location:"",parks:[]},e.componentDidMount=function(){e.setState({parks:v})},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(x.a)({},r,a))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,r=n.date,a=n.location,c=e.props,s=c.currentUserId,i=c.selectedUserId,o=c.updateProfile,u=c.updateCurrentUser,d=[s,i],p=Date.now(),l=d.map((function(e){return{id:p,userId:e,playmate:d.find((function(t){return t!==e})),date:r,location:a}}));h.postAppointment(l).then((function(){u(),o()})),e.clearInputs()},e.clearInputs=function(){e.setState({date:"",location:""})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state,t=e.date,n=e.location,r=e.parks.map((function(e){return Object(f.jsx)("option",{value:e,children:e})}));return Object(f.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(f.jsx)("input",{type:"date",name:"date",value:t,required:!0,onChange:this.handleChange}),Object(f.jsxs)("select",{name:"location",value:n,onChange:this.handleChange,required:!0,children:[Object(f.jsx)("option",{value:"",disabled:!0,selected:!0,hidden:!0,children:"Choose a park"}),r]}),Object(f.jsx)("button",{children:"Set Playdate"})]})}}]),n}(r.Component),y=g,k=(n(38),function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={id:0,owner_name:"",dog_name:"",profile_pic:"",bio:"",appointments:[]},e.componentDidMount=function(){e.updateProfile()},e.updateProfile=function(){h.getSingleUser(+e.props.selectedUserId).then((function(t){return e.setState(Object(i.a)({},t))}))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.currentUserId,n=e.selectedUserId,r=e.updateCurrentUser,a=this.state,c=a.owner_name,i=a.dog_name,o=a.profile_pic,u=a.bio,d=a.appointments.find((function(e){return e.playmate.id===t}));return Object(f.jsxs)("section",{className:"profile",children:[Object(f.jsx)("img",{src:o}),Object(f.jsxs)("p",{children:["Owner's Name: ",c]}),Object(f.jsxs)("p",{children:["Dog's Name: ",i]}),Object(f.jsxs)("p",{children:["Bio: ",u]}),d?Object(f.jsxs)("p",{children:["You have a playdate scheduled on ",d.date," at ",d.location,"."]}):Object(f.jsx)(y,{currentUserId:t,selectedUserId:n,updateProfile:this.updateProfile,updateCurrentUser:r}),Object(f.jsx)(s.b,{to:"/findfriends",children:Object(f.jsx)("button",{className:"find-friends-btn",children:"Find more friends"})})]})}}]),n}(r.Component)),U=k,C=(n(39),function(e){e.id;var t=e.date,n=e.location,r=e.playmate,a=r.ownerName,c=r.dogName;return Object(f.jsxs)("article",{className:"playdate",children:[Object(f.jsxs)("p",{children:["Date: ",t]}),Object(f.jsxs)("p",{children:["Location: ",n]}),Object(f.jsxs)("p",{children:["With ",a," and ",c]}),Object(f.jsx)("button",{children:"Cancel"})]})}),w=(n(40),function(e){var t=e.appointments,n=(e.users,t.sort((function(e,t){return new Date(t.date)-new Date(e.date)})).map((function(e){return Object(f.jsx)(C,Object(i.a)({},e),e.id)})));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("section",{}),Object(f.jsxs)("section",{className:"playdates-container",children:[Object(f.jsx)("h2",{children:"Playdates"}),n]})]})}),D=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={currentUser:{appointments:[]},users:[]},e.updateCurrentUser=function(){Promise.all([h.getSingleUser(2),h.getUsers()]).then((function(t){var n=Object(o.a)(t,2),r=n[0],a=n[1];e.setState({currentUser:Object(i.a)({},r),users:a})}))},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.updateCurrentUser()}},{key:"render",value:function(){var e=this,t=this.state,n=t.currentUser,r=t.users.filter((function(e){return e.id!==n.id}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(b,{}),Object(f.jsxs)("main",{children:[Object(f.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(f.jsx)(w,{appointments:n.appointments,users:r})}}),Object(f.jsx)(j.a,{exact:!0,path:"/findfriends",render:function(){return Object(f.jsx)(m,{users:r})}}),Object(f.jsx)(j.a,{path:"/profile/:userId",render:function(t){var r=t.match;return Object(f.jsx)(U,{currentUserId:n.id,selectedUserId:+r.params.userId,updateCurrentUser:e.updateCurrentUser})}})]})]})}}]),n}(r.Component),I=D;n(41),n(42);c.a.render(Object(f.jsx)(s.a,{children:Object(f.jsx)(I,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.80bee1ab.chunk.js.map